<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
   "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd"  [ ]>

<chapter id="esport-project3-tech">
    <title>Project 3 Technical Details</title>

    <section id="esport-project3-tech-impl">
        <title>Data Tier, Business Logic, and EJB/WAR Support</title>
        <para>
            Provide all functionality from Projects 1 and 2.
        </para>
    </section>

    <section id="esport-project3-tech-leagueaccess">
        <title>eLeague Access Restrictions</title>
        <para>
            Enhance eLeague with access restrictions.
        </para>
        <orderedlist spacing="compact">
            <listitem><para>
                Assign the EJB to the "other" security domain
                </para>
                </listitem>
            <listitem><para>
                Restrict access to the EJB methods to appropriate read/write roles
                using declarative security.
                </para>
                <orderedlist spacing="compact">
                    <listitem><para>
                        Administrators may run the test utility functions.
                        </para>
                        </listitem>
                    <listitem><para>
                        League Coordinators may create clubs, seasons, and
                    divisions. They may also schedule contests and perform duties
                    normally performed by club and division coordinators -- like
                    report scores.
                        </para>
                        </listitem>
                    <listitem><para>
                        Club Coordinators may create venues, teams, and
                    assign teams to divisions.
                        </para>
                        </listitem>
                    <listitem><para>
                        Division coordinators may report scores.
                        </para>
                        </listitem>
                </orderedlist>
                </listitem>
            <listitem><para>
                Perform additional programmatic security checks to verify 
                the right user is accessing the appropriate information.
                </para>
                <orderedlist spacing="compact">
                    <listitem><para>
                        Club coordinators may only manage teams and venues
                        associated with their club.
                        </para>
                        </listitem>
                    <listitem><para>
                        Division coordinators may only report scores for contests 
                        in their assigned division. Note that the League Coordinator
                        should be able to report a score for any division.
                        </para>
                        </listitem>
                </orderedlist>
                </listitem>
            <listitem><para>
                Allow any user to perform read operations.
                </para>
                </listitem>
        </orderedlist>
    </section>

    <section id="esport-project3-tech-leagueclient">
        <title>eLeague RMI client Authentication</title>
        <para>
            Extend your existing eLeague remote Test project and any remote client(s) to
            address new authentication requirements.
        </para>
        <orderedlist spacing="compact">
            <listitem><para>
                Add a valid login to your existing tests to re-enable them under
                the newly secure environment.
                </para>
                </listitem>
            <listitem><para>
                Add a new unit test that verifies the access controls of the
                protected and open methods. This means that -- after fixing access
                issues in the previous bullet -- you purposely attempt to violate
                access restrictions from a new JUnit test to show a test of 
                access control.
                </para>
                </listitem>
        </orderedlist>
    </section>

    <section id="esport-project3-tech-clubaccess">
        <title>eClub Access Restrictions</title>
        <para>
            Enhance eClub with access restrictions.
        </para>
        <orderedlist spacing="compact">
            <listitem><para>
                Assign the EJB to the "other" security domain.
                </para>
                </listitem>
            <listitem><para>
                Restrict access to the EJB read/write methods to appropriate roles
                using declarative security.
                </para>
                <orderedlist spacing="compact">
                    <listitem><para>
                        Administrators may run the test utility functions.
                        </para>
                        </listitem>
                    <listitem><para>
                        Members may update contact information and 
                        obtain roster information.
                        </para>
                        </listitem>
                    <listitem><para>
                        Organization coordinators may create teams and
                        assign players, coaches, and managers.
                        </para>
                        </listitem>
                </orderedlist>
                </listitem>
            <listitem><para>
                Perform additional programmatic security checks to verify 
                the right user is accessing the appropriate information.
                </para>
                <orderedlist spacing="compact">
                    <listitem><para>
                        Members are accessing rosters for teams they are
                        associated with.
                        </para>
                        </listitem>
                </orderedlist>
                </listitem>
        </orderedlist>
    </section>

    <section id="esport-project3-tech-clubclient">
        <title>eClub RMI client Authentication</title>
        <para>
            Extend your existing eClub remote Test project and any remote
            client(s) to address new authentication requirements.
        </para>
        <orderedlist spacing="compact">
            <listitem><para>
                Add a valid login to your existing tests to re-enable them under 
                the new secure environment.
                </para>
                </listitem>
            <listitem><para>
                Add a new unit test that verifies the access controls of the
                protected and open methods. Same comment as above -- after
                fixing proper access to eClub you should have at least
                one test that demonstrates how the application is preventing
                unauthorized access.
                </para>
                </listitem>
        </orderedlist>
    </section>


    <section id="esport-project3-tech-leaguewar">
        <title>eLeagueWAR Access Restrictions</title>
        <para>
            Enhance eLeagueWAR with access restrictions.
        </para>
        <orderedlist spacing="compact">
            <listitem><para>
                Assign the WAR to the "other" security-domain.
                </para>
                </listitem>
            <listitem><para>
                Restrict access beyond the main page to users with
                the appropriate roles. You may use FORM or BASIC authentication.
                (I suggest FORM for easier logout/login as new user).
                </para>
                </listitem>
            <listitem><para>
                Permit only users to only ask the EJB tier for
                information that is associated with their login. For example,
                a Club Coordinator should not have to tell the Web UI what
                club they are managing. It should be derived from their identity
                and information in the database.
                </para>
                </listitem>
        </orderedlist>
    </section>

    <section id="esport-project3-tech-clubwar">
        <title>eClubWAR Access Restrictions</title>
        <para>
            Enhance eClubWAR with access restrictions.
        </para>
        <orderedlist spacing="compact">
            <listitem><para>
                Assign the WAR to the "other" security domain.
                </para>
                </listitem>
            <listitem><para>
                Restrict access beyond the main page to users with
                the appropriate roles. You may use FORM or BASIC authentication.
                (I suggest FORM for easier logout).
                </para>
                </listitem>
            <listitem><para>
                Permit only users to only ask the EJB tier for information that
                is associated with their login. For example, a Member should not
                have to tell the Web UI what team they are associated with. It
                should be derived from their identity and information in the
                database.
                </para>
                </listitem>
        </orderedlist>
    </section>

    <section id="esport-project3-tech-interceptors">
        <title>Interceptors and Validators</title>
        <para>
            Implement a "thin slice" of capability to demonstrate JavaEE interceptors
            using validation.
        </para>
        <orderedlist spacing="compact">
            <listitem><para>
                Define javax.validation constraints on at least one of your DTOs.
                </para>
                </listitem>
            <listitem><para>
                Implement a JavaEE interceptor that gets a Validator injected,
                intercepts all calls of your EJBs, and runs the validator against
                each parameter input to the EJB method.
                </para>
                </listitem>
            <listitem><para>
                The interceptor can have no knowledge of the specific EJB, method, or 
                parameters it is intercepting and validating.
                </para>
                </listitem>
            <listitem><para>
                The EJB can have no knowledge of the interceptor and should do no
                work to validate the DTO itself.
                </para>
                </listitem>
        </orderedlist>
    </section>

    <section id="esport-project3-tech-leaguepublish">
        <title>eLeague JMS Publisher</title>
        <figure>
            <title>eLeague Async</title>
            <graphic scalefit="1" fileref="images/esport-async.jpg"/>
        </figure>
        <para>
          Extend your eLeague EJB implementations to publish changes to 
          Contests.


        </para>
        <orderedlist spacing="compact">
            <listitem><para>
                Use the esport-eleague-contests topic (JNDI name: topic/ejava/projects/esport/eleague-contests)
                </para>
                </listitem>
            <listitem><para>
                Design your JMS Message. You can use any JMS Type and JMS/custom
                properties you wish.  However, know that some subscribers will
                be filtering on such things as the impacted team or type of event.
                </para>
                </listitem>
            <listitem><para>
                Have your eLeague EJBs publish JMS Messages to the topic when
                a Contest changes state (created, canceled, completed).
                </para>
                </listitem>
        </orderedlist>
    </section>

    <section id="esport-project3-tech-clubjavase">
        <title>eClub JavaSE Subscriber </title>
        <para>
            Add a Java SE JMS subscriber eLeague to consume events about
            Contests pertaining to a specific team.
        </para>
        <orderedlist spacing="compact">
            <listitem><para>
                Implement a Java SE JMS subscriber that listens for Schedule
                messages with a team identifier matching a JMS Selector.
                This must be a JMS selector, not client-side Java logic. All
                this client has to do is log the information from the message.
                </para>
                </listitem>
            <listitem><para>
                Simply print the fact that the process was called and the
                contents reported in the message.
                </para>
                </listitem>
            <listitem><para>
                You must launch this subscriber using an Ant wrapper script.
                </para>
                </listitem>
        </orderedlist>
    </section>


    <section id="esport-project3-tech-clubmdb">
        <title>eClub MDB Subscriber</title>
        <para>
            Implement a Message Driven Bean within eClub to subscribe to 
            contests that are new, rescheduled, or reminders; but not completed 
            (i.e. it should have a selector that causes the MDB to not be told about
            scores being reported).
            [Note:] The ability to reschedule a contest was not part of 
            the functional requirements and need not be implemented at this time.
            Just account for the future event in your selector.
        </para>
        <orderedlist spacing="compact">
            <listitem><para>
                Use a JMS Selector for the MDB to limit the types of messages consumed.
                </para>
                </listitem>
            <listitem><para>
                Obtain the e-mail address for each individual associated with
                the team effected by the event. Print a textual message and the
                address list to the log. You do not have to physically send an
                e-mail as a part of this project.
                </para>
                </listitem>
        </orderedlist>
    </section>

    <section id="esport-project3-tech-leaguetimer">
        <title>eLeague EJBTimer</title>
        <para>
            Implement an EJB Timer that will allow eLeague to automatically
            wake-up and send out schedule reminders for contests that have not yet
            finished. Depending on the provided test data, you might want to limit
            the number of reminders sent. The main goal of this requirement is
            that you make use of an EJBTimer and that you trigger the MDB logic
            in eClub.
        </para>
    </section>
</chapter>
  
